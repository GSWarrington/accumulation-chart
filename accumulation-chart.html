<!-- initially adapted from https://medium.freecodecamp.org/how-to-create-your-first-bar-chart-with-d3-js-a0e8ea2df386 -->

<html>
  <head>
    <link rel="stylesheet" href="accumulation-chart.css">

    <title>Accumulation Charts for Instant-Runoff Voting</title>
  </head>
  <body>
    <div class="content">
      <h1>Accumulation Charts for Instant-Runoff Voting</h1>

      <h5><i>Implementation of idea explained in our (<a href="http://math.depaul.edu/bridget/">Bridget Tenner</a> and <a href="http://www.cems.uvm.edu/~gswarrin/">Greg Warrington</a>) <a href="https://arxiv.org/abs/1903.06095">preprint</a> that appears in the December 2019 <a href="https://www.ams.org/notices">Notices of the AMS</a>. These charts can currently be used for two types of elections in which voters rank candidates on their ballots: Instant-runoff voting (IRV) for single-winner elections and single-transferrable voting (STV) for multi-winner elections.<br> <b><a href="accumulation-chart-info.html" target="_blank">Information on how to read the charts.</a></b></i></h5>

      <script src="https://d3js.org/d3.v4.min.js"></script>

      <!-- Tabulation data for individual elections -->

      <script src="elec-sf_2019_da_elec_data.js"></script>
      <script src="elec-cam_council_2017.js"></script>
      <script src="elec-cam_school_2017.js"></script>
      <!-- <script src="elec-cam_council_2015.js"></script> -->
      <!-- <script src="elec-cam_school_2015.js"></script> -->
      <!-- <script src="elec-cam_council_2013.js"></script> -->
      <!-- <script src="elec-cam_school_2013.js"></script> -->
      <!-- <script src="elec-cam_council_2011.js"></script> -->
      <!-- <script src="elec-cam_school_2011.js"></script> -->
      <!-- <script src="elec-cam_council_2009.js"></script> -->
      <!-- <script src="elec-cam_school_2009.js"></script> -->
      <!-- <script src="elec-cam_council_2007.js"></script> -->
      <!-- <script src="elec-cam_school_2007.js"></script> -->
      <!-- <script src="elec-cam_council_2005.js"></script> -->
      <!-- <script src="elec-cam_school_2005.js"></script> -->
      <!-- <script src="elec-cam_council_2003.js"></script> -->
      <!-- <script src="elec-cam_school_2003.js"></script> -->
      <script src="elec-meprim.js"></script>
      <script src="poll-pres-I.js"></script>
      <script src="elec-data.js"></script>
      <script src="elec-structs.js"></script>

	<p>Historical election to show: <select id="selectButton" class="myButton"></select></p>

	<div class = "warning-content">
	<p id="data-note" class = "warning-content">
	</p>
	</div>

	Color ballots by: <select id="colorMenu" class="myMenu"></select> (descriptions below chart)<br>
	Max number of candidates to show: <select id="maxCandsMenu" class="myMenu"></select> (not implemented for multi-winner elections)<br>
	<form id="dirn">
	Round order:  
	    <input type='radio' id="LtoR" name="mode">First on left</input>
	    <input type='radio' id="RtoL" name="mode" checked>First on right</input>
	  </form> 
	<i> Chart is zoomable; hover for information on ballots</i>

	<!-- Create a div where the graph will take place -->
	<div id="newcontainer" align="left"></div>

	<!-- Code for producing chart based on selections -->
        <script src="accumulation-chart.js"></script>

	<div id="datanote">
	<i>Note: The data we use to create these charts may differ
	slightly from the final, certified data. Also, there are
	different, reasonable choices as to how to deal with the
	various imperfect types of ranked ballots. As this page exists
	primarily to illustrate Accumulation Charts, and due to
	limited resources, we have not made a determined effort to
	track down the specific rules used for each election.</i>

	<br>
	<br>
	<b>Options for how ballots are colored:</b>
	<ul>
	  <li> <b>Color ballots by ranking:</b> This is the default option and what is described in all
	  of the material on the accompanying <a href="accumulation-chart-info.html" target="_blank">Information page</a>.
	  <li> <b>Color ballots by first choice:</b>
	  With this color scheme, each ballot is permanently
	  colored according to the first-choice preference on it.
	  <li><b>Color ballots only by candidate:</b> With this color
	    scheme, the height of the bar for any given ballot
	    indicates how low of a preference that candidate
	    was. This is similar to the default color scheme, except
	    that the colors for already-eliminated candidates are
	    surpressed. A full-height bar indicates first choice,
	    half-height indicates second choice, third-height
	    indicates third choice, etc.
	  <li><b>Color ballots by segment:</b> This is similar to
	    coloring by candidate, except the information about
	    ranking is surpressed, so it is easy to tell how many
	    votes a candidate accumulated in a given round.
	</ul>
	</div>
	
</body>
</html>
